<div *ngIf="data.length > 0; else noData">
  <h3>Converted Data ({{filteredData.length}} of {{data.length}} records shown)</h3>
  
  <!-- Truncation Warning -->
  <div *ngIf="isDataTruncated" class="truncation-warning">
    <p>
      <strong>Note:</strong> Showing first 10,000 rows for display performance. 
      All {{data.length}} rows will be sent to the database when you click "Send Data to Database".
    </p>
  </div>
  
  <div class="table-responsive">
    <table class="table">
      <thead [class.no-header]="!hasHeader">
        <tr>
          <th *ngFor="let header of headers" [class.no-header-cell]="!hasHeader">
            {{header}}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of filteredData; let i = index">
          <td *ngFor="let header of headers">
            {{row[header] || '-'}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- JSON Debug Section - For debugging purposes -->
<div class="json-debug-section">
  <h4>JSON Debug Output (Display Data Only)</h4>
  <div class="json-container">
    <pre class="json-content">{{getFormattedJson()}}</pre>
  </div>
</div>

<ng-template #noData>
  <div class="no-data">
    <p>No data available. Please upload a file.</p>
  </div>
</ng-template>
